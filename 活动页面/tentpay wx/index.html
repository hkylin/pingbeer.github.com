<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
<meta content="email=no" name="format-detection">
<meta content="" name="pgv"> <!-- 页面PUV统计 -->
<title>腾讯理财通</title>
<style>
    /*这里重构同学不要删掉，不然会引发ios点击事件失效*/
    div,span,li,p,dd,dl,dt,h1,h2,h3,h4,h5,h6,legend,ol,td,ul,.js-tap-link{
        cursor:pointer;
    }
    .hide{
        display: none;
    }
</style>
<script type="text/javascript">
    window.ELE_HASCURSOR = true; //是否存在cursor样式，不然有些无法点击
    //判断客户端类型
    if(!window.ISMQQ && !window.ISWEIXIN) {
        var ua = navigator.wxuserAgent || navigator.userAgent;
        window.ISMQQ = ua.match(/QQ\/(\d+\.(\d+)\.(\d+)\.(\d+))/i);
        window.ISWEIXIN = ua.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/i) || ua.match(/MicroMessenger\/((\d+)\.(\d+))/i);
    }
    //如果不是微信和手Q，则判断url来决定
    //wp手机下无法修改ua
    if(!window.ISWEIXIN && !window.ISMQQ) {
        window.ISWEIXIN = /\/weixin\//i.test(location.href);
        if(!window.ISWEIXIN) {
            window.ISMQQ = /\/mqq\//i.test(location.href);
        }
    }

    if(!window.ISWEIXIN && !window.ISMQQ) {
        window.ISMQQ = document.cookie.indexOf('logintype=1') > -1;
        if(!window.ISMQQ) window.ISMQQ = document.cookie.indexOf('lct_ismqq=1') > -1;
    }
    else if(window.ISMQQ) {
        document.cookie = 'lct_ismqq=1;path=/;';
    }

    //如果最后还不能确定是手Q或微信，则采用微信
    //非qq即微信
    window.ISWEIXIN = !window.ISMQQ;    

    window.__docWriteScript = function(url, attrs) {
        //如果document加载完成，则不能使用write 否则会导致页面被重写
        if(document.readyState == 'complete') return;
        var tags = document.querySelectorAll('[src="'+url+'"]');
        if(!tags || !tags.length) {
            var tag = '\x3cscript type="text\x2fjavascript" src="'+url+'"';
            if(attrs) {
                for(var k in attrs) {
                    tag += ' '+k+'=' + attrs[k];
                }
            }
            tag += '\x3e\x3c\x2fscript\x3e';
            document.write(tag); 
        }
    }
    window.__docWriteLink = function(url) {
        if(document.readyState == 'complete') return;
        var tags = document.querySelectorAll('[href="'+url+'"]');
        if(!tags || !tags.length) document.write('\x3clink rel="stylesheet" onerror="onLinkError()" href="'+url+'"\x2f\x3e');  
    }
</script>
<script type="text/javascript">
function __USERDEBUGLOG(e,n){if(__isdebug)"object"==typeof e&&(e=JSON.stringify(e)),__SENDDEBUGLOG({msg:e,line:{error:1,warn:2}[n]||0},!0,"900199002");else switch(n){case"error":console.__error&&console.__error(e);break;case"warn":console.__warn&&console.__warn(e);break;default:console.__log&&console.__log(e)}}function __closelogcontainer(){document.getElementById("__USERDEBUG_CONTAINER").style.display="none"}function __getSession(e){try{if(!window.sessionStorage)return null;var n=window.sessionStorage.getItem(e);if(n){var o=JSON.parse(n);if(o&&o.v)return o.v}return n}catch(t){}return null}function __setSession(e,n,o){try{if(!window.sessionStorage)return void(o&&o());try{window.sessionStorage.setItem(e,n),o&&o()}catch(t){"QuotaExceededError"==t.name?(window.sessionStorage.clear(),__setSession(e,n,o)):o&&o()}}catch(t){o&&o()}}function __getLocalStorage(e){try{var n=window.localStorage.getItem(e);if(n){var o=JSON.parse(n);if(o&&o.v)return o.v}return n}catch(t){}return null}function __setLocalStorage(e,n,o){try{try{window.localStorage.setItem(e,n),o&&o()}catch(t){"QuotaExceededError"==t.name?(window.localStorage.clear(),__setLocalStorage(e,n,o)):o&&o()}}catch(t){o&&o()}}function __SENDDEBUGLOG(e,n,o){try{if(!e)return;"string"==typeof n&&(o=n),"object"!=typeof e&&(e={msg:e}),e.code=o||e.code||"900190001";var t="//qian.qq.com/fund_act_fcg/action_acc_fcgi.fcgi?cmdname=reportstat&param=",r=new Image,i=navigator.wxuserAgent||navigator.userAgent,a={};a.iBillID=801,a.sUrl=e.url||location.href,a.sUin=e.uin||"",a.sPlatform=window.ISMQQ?"mqq":"wx",a.sExtraInfo="2",a.iLogType=2,a.sModuleType="lct_web_log",a.sCurrentFile=e.file||"",a.sErrCode=e.code||"900190001",a.sFrontUa=i,a.sCookie="",a.iTimespan=0,a.sReferer=document.referrer||"",!a.sUin&&window.Cookie&&window.Cookie.getCookie&&(a.sUin=window.Cookie.getCookie("qluin")),a.iLine=e.line||0,a.sReqText=(e.msg||"").replace(/\"/g,"“"),a.sResText=e.resMsg||"",a.sUrl&&(a.sExt1=a.sUrl,a.sUrl=a.sUrl.replace(/\?(.*)/,"")),"complete"!=document.readyState?setTimeout(function(){r.src=t+encodeURIComponent(JSON.stringify(a))},500):r.src=t+encodeURIComponent(JSON.stringify(a))}catch(c){}}function onLinkError(e){try{e=e||window.event;var n=e.target||e.srcElement||e.currentTarget;if(!n)return;if(n.href&&-1===n.href.indexOf("__")&&-1===n.href.indexOf("{md5}")){var o=n.href.replace("qian-img.tenpay.com",location.hostname);o+=o.indexOf("?")>-1?"_":"?_";var t=n.parentElement||parentElement.parentNode;t.removeChild(n);var r=document.createElement("link");r.href=o,r.rel="stylesheet",r.onerror=onLinkError,t.appendChild(r),window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"link load failed",file:n.href},!0,"900199902")}else window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"link load failed",file:n.href},!0,"900199904")}catch(e){}}function onLinkLoad(e){e=e||window.event;var n=e.target||e.srcElement||e.currentTarget;n.href.indexOf(location.hostname)>-1&&window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"link reload success",file:n.href},!0,"900199903")}function getUrlParams(e){var n={},o="string"==typeof e?e:location.search.substring(1),t=o.split("&");if(t.length>0)for(var r=0,i=t.length;i>r;r++)try{if(/(.*?)=(.*)/.test(t[r])){var a=RegExp.$1,c=RegExp.$2;c&&(c=decodeURIComponent(c),c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;")),n[a]=c}}catch(s){}return n}location.hostname.indexOf("tenpay.com")>-1?document.domain="tenpay.com":location.hostname.indexOf("qq.com")>-1&&(document.domain="qq.com");var __isdebug=location.href.indexOf("__userdebug=1")>-1;__isdebug?__setSession("lct/env/__userdebug_flag","1"):__isdebug="1"==__getSession("lct/env/__userdebug_flag"),__isdebug&&(console.__log=console.log,console.log=__USERDEBUGLOG,console.__error=console.error,console.error=function(e){__USERDEBUGLOG(e,"error")},console.__warn=console.warn,console.warn=function(e){__USERDEBUGLOG(e,"warn")},console.warn(location.href)),console.log("start define debug log function"),window.onerror=function(e,n,o){console.log(e),"qian.tenpay.com"!=location.hostname&&"qian.qq.com"!=location.hostname||"Uncaught ReferenceError: WeixinJSBridge is not defined"!=e&&"Uncaught TypeError: _event_hook_map_for3rd[event] is not a function"!=e&&window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:e,file:n,line:o},!0,"900199901")},function(){function ajaxResource(e,n,o,t){o=o||0,window.httpRequest(e,function(r){r?(n&&n(r),o>0&&window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"reload resource success",file:e,line:o},!0,"9001999902")):(2>o?(o++,e=e.replace("qian-img.tenpay.com",location.hostname),ajaxResource(e,n,o,t)):n&&n(),window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"load resource failed",file:e,line:o},!0,"9001999901"))},0===o&&t?800:0)}function loadResource(e,n,o,t){if(!window.localStorage)return void(n&&n());try{o=o||0;var r=e.replace(location.hostname,"qian-img.tenpay.com"),i="/*"+r+"*/",a=r.indexOf("?");a>-1&&(r=r.substr(0,a));var c=new RegExp("(\\.min)?(\\.[^\\.\\/]{8,})(\\.min)?\\.(js|css)","g");if(c.test(r)){c.lastIndex=0;var s=c.exec(r);s&&s.index>-1&&s.length>3&&s[2]&&(r=r.replace(s[2],""))}var l=window.localStorage.getItem(r);l&&0===l.indexOf(i)?n&&n(l):(ajaxResource(e,function(e){if(e){e=i+"\r\n"+e;try{__setLocalStorage(r,e)}catch(o){}}t||n&&n(e)},0,t),t&&n&&n())}catch(d){n&&n()}}window.__inline=window.__pkg=window.__uri=function(e){return e},window.httpRequest=function(e,n,o){var t;return window.ActiveXObject?t=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(t=new XMLHttpRequest),t?(t.onreadystatechange=function(e){4==this.readyState&&(200==this.status?n&&n(this.responseText||this.response):n&&n())},t.open("GET",e,!0),o?setTimeout(function(){t.send(null)},o):t.send(null),t):void n(null)},window.loadJS=function(url,callback,needScript,attrs){if("object"==typeof needScript&&(attrs=needScript,needScript=!1),"boolean"==typeof callback&&(needScript=callback,callback=null),"object"==typeof url&&url.length)for(var rets=[],i=0;i<url.length;i++)window.loadJS(url[i],function(e){rets.push(e),rets.length>=url.length&&callback&&callback.apply(this,rets)},needScript,attrs);else{var jsLoaded=!1;loadResource(url,function(content){if(!jsLoaded)if(jsLoaded=!0,content){try{eval(content)}catch(e){window.__docWriteScript&&window.__docWriteScript(url,attrs)}callback&&callback(1)}else needScript&&window.__docWriteScript&&window.__docWriteScript(url,attrs),callback&&callback(0)},0,needScript)}},window.loadCSS=function(e,n,o,t){var r=!1;loadResource(e,function(t){if(!r){if(t){var i=document.createElement("style");switch(i.innerHTML=t,o){case"body":case"box":var a=document.querySelector('[data-role="page"]');if(a&&a.length?a=a[a.length]:a||(a=document.body),a){a.appendChild(i);break}case"head":default:document.head.appendChild(i)}n&&n(1)}else window.__docWriteLink&&window.__docWriteLink(e),n&&n(0);r=!0}},0,"undefined"==typeof t?!0:t)},window.postMessage||window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"not support postMessage",file:"global.js"},!0,"9001999910")}();
</script>
<script type="text/javascript" data-role="verbose">
    console.log('start script tag data-role verbose');
    var g_timepoint_head = Date.now();
	var G_SPEED = [];
	G_SPEED[0] = (new Date()).getTime();	

    //如果有oauth授权，则以oauth授权开始时间为准
    if(window.Cookie){
        var oauth_jump_time = window.Cookie.getCookie('oauth_jump_time');
        if(oauth_jump_time){
            G_SPEED[0] = Number(oauth_jump_time);
            window.Cookie.removeCookie('oauth_jump_time');
        }
    }  
    console.log('end script tag data-role verbose');  
</script>
<script>	
(function(){
	var __pkg = window.__pkg||function(p){return p};
	var url = "//qian-img.tenpay.com/mb/v4/css/mini/global.min.20098411.css?20098411";
	if(window.loadCSS) {
		window.loadCSS(url, null, 'head');	
	}
	else {
		document.write('\x3clink rel="stylesheet" onerror="onLinkError()" href="'+url+'"\x2f\x3e'); 
	}
})();
</script>

    <script type="text/javascript">
(function(){
    if(!window.ISWEIXIN){
        if(!window.ISMQQ) {
            var ua = navigator.wxuserAgent || navigator.userAgent;
            window.ISMQQ = ua.match(/QQ\/(\d+\.(\d+)\.(\d+)\.(\d+))/i);
            window.ISWEIXIN = ua.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/i) || ua.match(/MicroMessenger\/((\d+)\.(\d+))/i);

            //如果不是微信和手Q，则判断url来决定
            //wp手机下无法修改ua
            if(!window.ISWEIXIN && !window.ISMQQ) {
                window.ISWEIXIN = /\/weixin\//i.test(location.href);
                if(!window.ISWEIXIN) {
                    window.ISMQQ = /\/mqq\//i.test(location.href);
                }

                //如果表明了这是一个在外部打开的链接，跳过授权先
                if(/(is_jumptoapp=1)/i.test(location.href)){
                    window.NOTNEEDLOGIN = true;
                    window.ISINWEB = true;
                    return;
                }
            }

            //如果最后还不能确定是手Q或微信，则采用微信
            if(!window.ISMQQ && !window.ISWEIXIN) {
                if(document.cookie && document.cookie.indexOf('qlappid=2796881986') > -1) window.ISMQQ = true;
                window.ISWEIXIN = !window.ISMQQ;
            }             
        }
    }
    var APP_ID = 'wxc92ca6e258e3f1eb';
    var cookie = (function(){
        var _getCookie = function(key){
            var re = new RegExp('(?:^|; )' + key + '=([^;]*)');
            var result = document.cookie.match(re);
            return result ? result[1] : null;
        };

        var _setCookie = function(key, value, minute, domain){
            domain = domain || (location.hostname=='qian.qq.com'?'qq.com':'tenpay.com');
            if (minute) {
                var now = new Date(),
                    expire = new Date();
                expire.setTime(parseFloat(+now) + 60 * 1000 * minute);
            }
            document.cookie = key + '=' + value + '; ' + (minute ? ('expires=' + expire.toUTCString() + '; ') : '') + 'path=/; domain='+domain+';';
        };

        var _removeCookie = function(key, domain){
            domain = domain || (location.hostname=='qian.qq.com'?'qq.com':'tenpay.com');
            document.cookie = key + '=; expires=Mon, 2 Mar 2009 19:00:00 UTC; path=/; domain='+domain+';';
        };

        return {
            getCookie : _getCookie,
            setCookie : _setCookie,
            removeCookie : _removeCookie
        }
    })();

    /*判断是否已登陆*/
    var isLogin = function(){
        var qluin = cookie.getCookie('qluin');
        var qlskey =  cookie.getCookie('qlskey');
        var qlappid = cookie.getCookie('qlappid');
        return qluin && qlskey && qlappid == APP_ID;
    };

    /*清除登陆态*/
    var logout = function(){
        cookie.removeCookie('qluin');
        cookie.removeCookie('qlskey');
        cookie.removeCookie('qlappid');
        cookie.removeCookie('lct_appid');
        cookie.removeCookie('wx_session_time');
    };

    /*跳转oauth*/
    var jumpOauth = function(){
        //非理财通主站域名，则需要跳到主站授权
        if(location.hostname != 'qian.tenpay.com' && location.hostname != 'apreqian.tenpay.com') {
            return;
        }

        var oauth = "https://open.weixin.qq.com/connect/oauth2/authorize?";
        var redirecturi = location.href.replace(/#.*$/, '');

        //处理微信九宫格问题，当是/v2/hybrid/www/weixin/fund/charge/index.shtml 这个地址时，替换成/mb/v4/index.shtml
        if(redirecturi.indexOf('/v2/hybrid/www/weixin/fund/charge/index.shtml') > 0) {
            redirecturi = redirecturi.replace('/v2/hybrid/www/weixin/fund/charge/index.shtml','/mb/v4/index.shtml');
        }
        //如果是预发布，需要依赖主域名跳转auth
        if(location.hostname == 'apreqian.tenpay.com') {
            redirecturi = 'http://qian.tenpay.com/mb/inc/wx_auth.shtml?url=' + encodeURIComponent(redirecturi);
        }
        var param = [
                'appid=wxc92ca6e258e3f1eb',
                'redirect_uri=' + encodeURIComponent(redirecturi),
                'response_type=code',
                'scope=snsapi_base',
                'state=STATE'
        ];
        cookie.setCookie('oauth_jump_time', new Date().getTime(), 5);  //当前oauth跳转开始的时间，测速以该时间为准
        cookie.setCookie('oauth_jump', '1', 10); //设置oauth跳转标记，2分钟有效
        logout();
        var url = oauth + param.join('&') + '#wechat_redirect';
        //window.__SENDDEBUGLOG && window.__SENDDEBUGLOG('oauth redirect:' + url, true, '90020001');
        setTimeout(function(){
            location.replace(url);
        }, 10);
    };

    /*session是否过期,默认60分钟过期*/
    var isSessionExpired = function(){
        var t = cookie.getCookie('wx_session_time');
        if(t && new Date().getTime() - parseInt(t, 10) > 60 * 60 * 1000){
            return true;
        }
        return false;
    }

    /*检验是否需要跳oauth*/
    /*正常底部业务逻辑中判断未登陆且url有code，再登陆*/
    var checkLogin = function(){
        //window.__SENDDEBUGLOG && window.__SENDDEBUGLOG('oauth check login', false, '90020002');
        var ios = navigator.userAgent.match(/(iPad|iPod|iPhone).*OS\s([\d_]+)/);
        //var weixin  = navigator.userAgent.match(/MicroMessenger\/([\d.]+)/i);
        if(!ios && isSessionExpired()){
            jumpOauth();
            return;
        }

        var islogined = isLogin();
       
        var isJumpOauth = cookie.getCookie('oauth_jump') == '1';
        if(!isJumpOauth && !islogined){     //第一次进来，oauth授权
            jumpOauth();
            return;
        }

        /*非IOS全部强制刷新登录态*/
        if(!isJumpOauth && !window.ISWEIXIN){
            jumpOauth();
            return;
        }

        //check login通过，jump标记不需要了
        //cookie.removeCookie('oauth_jump');
    };
    window.jumpOauth = jumpOauth;       /*登陆组件重新调用*/
    window.Cookie = cookie;
    //如果地址标记了强制重登，则先清空cookie登录态
    if(location.href.indexOf('__logout__=1') > -1) {
        logout();
    }

    if(window.ISWEIXIN) {
        checkLogin();
        console.log('weixin://preInjectJSBridge/start');
    }
})();
</script>
</head>
<body>
    <div class="box pad-bottom" data-role="page" >
    <link href="//qian-img.tenpay.com/mb/v4/css/fixed_invest_inspire.a3ffc6f8.css?a3ffc6f8" data-role="style" rel="stylesheet">
        <!-- 头部 s -->
        <div class="calendar-top f-white hide">
            <div class="top-hd plr-main">
                <p>
                    <span class="f-xsmall">十月</span>
                    <span class="f-small">2016</span>
                </p>
                <p class="top-hd-btm">星期四</p>
                <span class="top-hd-img">
                    <img src="//qian-img.tenpay.com/mb/v4/img/fixed_invest_inspire/img_card_oct.png?214eab8e"/>
                </span>
            </div>
            <div class="top-cnt-wrap">
                <div class="top-cnt tc">
                    <div class="top-cnt-inner">
                        <div class="top-cnt-lf l js-months-stats-wrapper">
                        </div>
                        <div class="top-cnt-rt l">
                            转入不断，奖励不断
                        </div>
                    </div>
                </div>
            </div>
            <p class="tc f-small">
                <span class="present-box-tip">再接着转入2个月，就会得奖励，加油！</span>
            </p>
        </div>
        <!-- 头部 e -->

        <div class="insp-top">
            <div class="cnt">
                <h3 class="tt">我的攒钱成就</h3>
                <a class="link-rt js-tap-on js-tap-link" href="javascript:;" data-link="/mb/v4/life/invest_buy_record.shtml?notop=1">查看转入明细</a>
            </div>
        </div>

        <div class="insp-box achieve-mine spacing">
            <div class="insp-title line-bottom">
                <h3 class="lt"><i class="i-insp-time"></i>连续转入成就</h3>
                <div class="rt">
                    <p class="link-more js-tap-on js-tap-link" data-local-link="/mb/v4/life/encourage_achieve_expand.shtml?tabIndex=0" data-stat="WX.GZLC.JILI.MORETIME">全部</p>
                </div>
            </div>

            <div>
                <p class="sub-tt">当前已连续转入<var class="js-most-success-months f-orange f-bold"></var><span class="f-orange f-bold">个月</span>，连续转入<var class="js-succ-months-plus-one  f-orange f-bold"></var><span class="f-orange f-bold">个月</span>即可领取奖励</p>
                <div class="achieve-cnt-time js-time-achieve-wrapper"></div>
            </div>
        </div>


        <div class="insp-box achieve-mine spacing">
            <div class="insp-title line-bottom">
                <h3 class="lt"><i class="i-insp-calen"></i>我的攒钱月历</h3>
                <div class="rt">
                    <p class="link-more js-tap-on js-tap-link" data-local-link="/mb/v4/life/encourage_achieve_expand.shtml?tabIndex=1" data-stat="WX.GZLC.JILI.MOREMONTH">全部</p>
                </div>
            </div>

            <div class="achieve-cnt-time">
                <p class="sub-tt">
                <var class="js-next-success-month  f-orange f-bold"></var><span class="f-orange f-bold">月</span>转入成功即可获得<var class="js-next-success-month"></var>月月历</p>
                <div class="js-months-achieve-list"></div>
            </div>
        </div>        


        <!-- 大数据 s -->
        <div class="insp-box data-mine spacing">
            <div class="insp-title line-bottom">
                <h3 class="lt"><i class="i-insp-col"></i>攒钱大数据</h3>
            </div>
            <div class="insp-bd">
                <div class="page-white js-user-portrait-wrap"></div>

                <!-- <p class="over-btn-tips">数据生成时间从首次使用工资理财至2017年3月</p> -->
                <div class="btn-wrap up-guide">
                    <a class="btn btn-main js-tap-on js-tap-link" href="javascript:;" data-local-link="https://qian.tenpay.com/mb/v4/life/invest_set_money.shtml?stat_data=fm_182_dt_27&ADTAG=WX.INVEST.PLANINVESTADD.UPPLANMONEY">如何超越更多攒友</a>
                    <p class="tips-txt hide"><a class="hit-zone" href="javascript:;">理财达人秀</a></p>
                </div>
            </div>
        </div>        
        
        <!-- 大数据 e -->

        <script type="text/template" class="js-time-achieve-tpl">
    <ul class="achieve-cnt-pic js-time-achieve-list">
        <%
        for (var i = 0, len = recordList.length; i < len; i++) {
        var record = recordList[i];
        %>
        <% if (record.has_prize){%>
            <li data-stat="WX.INVEST.INSISTTIME.PRIZE" data-months="<%=record.success_month_num%>"
                class="<%=record.cls%> has-time-achieve-prize award-get <% if (!record.isNext) {%>js-time-achieve-item<%}%>">
                <i class="ico-prensent-s"></i>
                <span class="pic-spacing"></span>
            </li>
        <% } else { %>
            <li data-stat="WX.INVEST.INSISTTIME.PRIZE" data-months="<%=record.success_month_num%>" class="js-time-achieve-item <%=record.cls%>">
                <span class="pic-spacing"></span>
            </li>
        <% } %>

        <% } %>
    </ul>
</script>

<script type="text/template" class="js-time-achieve-award-tpl">
    <div class="pop-pago-box">
        <!--<i class="ico-cls2"></i>-->
        <div class="pop-pago-hd">
            <!-- 礼包未打开 s -->
            <div class="present-encourage p-rel">
                <i class="ico-present-encourage-box"></i>
                <i class="ico-piece-one"></i>
                <i class="ico-piece-two"></i>
                <i class="ico-piece-thr"></i>
                <i class="ico-dot-one"></i>
                <i class="ico-dot-two"></i>
                <i class="ico-dot-thr"></i>
            </div>
            <!-- 礼包未打开 e -->
            <!-- 红包 s -->
            <div class="hb-encourage p-rel">
                <i class="ico-hb-encourage-box"></i>
                <i class="ico-piece-one"></i>
                <i class="ico-piece-thr"></i>
                <i class="ico-dot-one"></i>
                <i class="ico-dot-two"></i>
                <i class="ico-dot-thr"></i>
                <span class="hb-num">
                            <b><%=data.hbFee%></b>元
                        </span>
            </div>
            <!-- 红包 e -->
            <!-- 卡券 s -->
            <div class="cd-encourage p-rel">
                <p class="ico-card-encourage-bg">
                            <span class="cd-encourage-profit l tr">
                                <b class="profit-sign">+</b>
                                <b>5.0</b>
                                <!-- 【TODO】
                                此处如果是有两位及以上小数点的情况，请告知重构 -->
                                <b class="profit-pct">%</b>
                            </span>
                    <span class="cd-encourage-cnt tl">
                                <span class="cnt-txt">单日加送收益卡</span>
                                <b class="cnt-date">2016.10.23</b>
                            </span>

                </p>
            </div>
            <!-- 卡券 e -->
            <!-- 礼包过期 s -->
            <div class="encourage-outdate p-rel">
                <span class="outdate-pic <%=data.iconCls%>"></span>
            </div>
            <!-- 礼包过期 e -->
        </div>
        <div class="pop-pago-bd tc">
            <!-- 【红包打开文案】'恭喜获得'
                     【红包失效】'棒棒哒！'-->
            <!-- 【现金文案】'红包已发放到余额+账户中'
            【卡片文案】'收益卡将用于下1笔工资计划转入的资金'
             【红包失效】'来晚了，错过了奖励红包，下次记得<br>早点来哦~' -->

            <%=data.showText2%>
            <% if (data.iState == 1) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包发放中</p>
            <% } else if (data.iState == 6) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包稍后到账~</p>
            <% } else if (data.iState == 3) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包已离你而去~</p>
            <% } else if (data.iState == 4) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包已失效~</p>
            <% } else if (data.prizeState == 0) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包，送给持之以恒的你</p>
            <% } else if (data.prizeState == 1) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包已领取成功，<a href="/mb/v4/trans/trans_buy_redem_record.shtml
">查看奖励></a></p>
            <% } else if (data.prizeState == 2) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">奖励红包于<%=data.expiredDateText%>过期，下次记得早点来哦</p>
            <% } else if (data.prizeState == 3) { %>
                <p class="txt-emp txt-big">恭喜获得</p>
                <p class="f-normal lh-medium pub-txt">收益卡将用于下1笔工资计划转入的资金</p>
            <% } else if (data.prizeState == 4) { %>
                <p class="txt-emp txt-big">成功连续转入<%=data.success_month_num%>个月可获奖励红包</p>
                <p class="f-normal lh-medium pub-txt">养成好的存钱习惯，未来更美好</p>
            <% } else if (data.prizeState == 5) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">获得奖励红包，奖励将发到余额+账户，请先升级再领取</p>
            <% } else if (data.prizeState == 6) { %>
                <p class="txt-emp txt-big"><%=data.showText1%></p>
                <p class="f-normal lh-medium pub-txt">拥有这份坚持，你可以走得更远</p>
            <% } %>
        </div>
        <div class="pop-pago-ft tc">
                <div class="btn-wrap">
                    <% if (data.prizeState == 0) { %>
                    <a href="javascript:;" class="btn btn-main js-draw-award-btn" data-months="<%=data.success_month_num%>">领取奖励</a>
                    <% } else if (data.prizeState == 5) { %>
                    <a href="javascript:;" data-local-link="/mb/v4/over/over_plus.shtml" class="btn btn-main js-upgrade-balance-plus-btn js-tap-link" data-months="<%=data.success_month_num%>">升级余额+账户</a>
                    <% } else { %>
                    <a href="javascript:;" class="btn btn-main js-close-achieve-box-btn">我知道了</a>
                    <% } %>
                </div>
                <% if (data.expireTime && data.prizeState != 1) { %>
                <span class="btn-tip f-small">领取时效：<%=data.expireTime%>时前</span>
                <% } %>
        </div>
    </div>
</script>

<!-- 弹层 s -->
<div class="pop-pago-mask hide js-pop-mask"></div>
<div class="pop-pago pop-encrg-award hide js-award-pop-box">
    <!-- 【获得红包】 'pop-encrg-award' 添加class 'hd-award'
         【获得卡券】 'pop-encrg-award' 添加class 'cd-award'
         【红包失效】 'pop-encrg-award' 添加class 'outdate-award'-->
</div>
<!-- 弹层 e -->



        <div class="img-ad ad-reverse js-month-achieve-box hide"></div>


<style>
    .share-month-achieve-list {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        transition: transform .5s cubic-bezier(0, 0, 0.25, 1);
        -webkit-transition: transform .5s cubic-bezier(0, 0, 0.25, 1);
    }

    .share-month-achieve-list .share-month-achieve-item {
        min-width: 100%;
        width: 100%;
    }
</style>

<!-- 【卡片弹层关闭动画】 'img-ad' 添加 class 'fade-out-ad'
             【卡片弹层分享动画】 'img-ad' 添加 class 'share-fly'-->
<script type="text/template" class="js-month-achieve-tpl">
    <div class="ad-cnt tc">
        <div class="img-top">
            <a class="img-ad-close js-close-month-achieve" href="javascript:;"><!-- 关闭 --></a>
            <span class="line"></span>
        </div>

        <ul class="share-month-achieve-list js-share-month-achieve-list" data-index="0">
            <% for (var i = 0, len = achieveList.length; i < len ; i++) {
                var record = achieveList[i];
            %>
            <li class="share-month-achieve-item js-month-achieve-item">
                <!-- 大图片 s -->
                <div class="img-cnt">
                    <div class="img p-rel">
                        <img src="<%=record.monthImgUrl%>" alt="<%=record.showMonth%>月">
                        <span class="img-cnt-tip">于<%=record.showMonth%>月<%=record.showDay%>日存入<%if(record.buy_fee > 0){%><%=record.showBuyFee%>元<%}else{%>成功<%}%></span>
                    </div>
                </div>
                <!-- 大图片 e -->

                <div class="img-ad-btm p-rel">
                    <div class="btm-cnt">
                        <a class="ad-btn js-share-btn" data-date="<%=record.month%>" href="javascript:;">分享<span><%=record.monthText%>月</span>图片</a>
                        <span class="ad-btn-tip f-white">分享不会暴露金额</span>
                    </div>
                    <span class="plane-wrap"><i class="ico-plane-share"></i></span>
                </div>
            </li>
            <% } %>
        </ul>
        <!-- 箭头 s -->
        <p class="cnt-arrow <% if (achieveList.length < 2){%>hide<%}%>">
            <span class="arrow-lf l hide js-prev-month-prize"></span>
            <span class="arrow-rt r js-next-month-prize"></span>
        </p>
        <!-- 箭头 e -->
    </div>
</script>

<script>
    window.SALARY_CALENDARS = {"salary_calendars":{"201612":{calendarImgUrl:"https:\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/6e9436a83745c7187feefb494a2648d0.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201611\/46e987805d85d5907b23f6d6b15e9aea.png"},"201701":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/e8f4527e7f5740f78d02e70a3dd354d1.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/6c6fc73ce113d156b4d9d60b1ba92886.png"},"201702":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/869af7c0a8f0de772daeb015efe5be44.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/37177fd21f3ae36c47bfd54510857d66.png"},"201703":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/e35833c14f9ae8711347cf756f5a03d8.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201612\/6e10ebb55248350ca242345891ff3776.png"},"201704":{calendarImgUrl:"http:\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201702\/0d3f0d14fde99a3be5656ff5d61c4086.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201702\/7c3d3c5c224c959c2afba44feaa21a42.png"},"201705":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201702\/75b0c760d0ee6510b33fcd850b5ffa88.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201702\/832a59ae3476470b95b8a800c899e986.png"},"201706":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201702\/d17833922fa82ba2085d456216b26712.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201702\/1244878d74a5aafe5bcfdd7f552f543a.png"},"201707":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/93ef482f7798b8dbec348bc51313882e.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/b53e7620d5d7dfe5f55464d13da028ad.jpg"},"201708":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/4734b95310f66b92afb3165101fffadd.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/7322ab2ea952cb748d999fa2971de4b4.png"},"201709":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/58998de5f217a8d1621488345adfd4ce.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/078014c11419136d495d98c21d8a652d.png"},"201710":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/784c9e534259041ecd2ce6f34bdd3a57.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/fa4f0af1972e606418c88f46529f4762.png"},"201711":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/ec730db01debfb2274d56bb964ce4b6d.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/58c834e2f7bce1dfd983caae40defa0e.png"},"201712":{calendarImgUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/1091a4f4fe18718b5ac58067eb852b39.png",calendarIconUrl:"\/\/qian-img.tenpay.com\/resources\/vtools\/img\/201706\/d032c4a5b3b160da4fe38e8631e430d5.png"}}}
</script>

<script type="text/template" class="js-months-achieve-tpl">
    <ul class="achieve-cnt-pic calen f-white js-months-achieve-list">
        <% for (var i = 0, len = recordList.length; i < len; i++) {
            var record = recordList[i];
            if (record.noMore) {
        %>
            <li class="pic-empty tc">
                <!-- 【此功能开放前】为此 'li'文案及样式 -->
                <span class="txt-des"><%=record.showMonth%>月前<br>功能尚未开放</span>
                <span class="pic-spacing">
                                        </span>
            </li>
            <% } else { %>
                <li data-stat="WX.INVEST.INSISTMONTHS.PRIZE" data-date="<%=record.month%>" class="<% if(!record.buy_fee){%>blur-img-mask
<%}%><% if (record.isNext) { %>next-month-achieve <%}%>js-month-achieve">
                    <img src="<%=record.calendarIconUrl%>"/>
                    <span class="pic-date"><%=record.showMonth%><b class="date-mon">月</b></span>
                    <span class="pic-spacing"></span>
                    <% if (!record.buy_fee) { %>
                    <div class="pic-tip">
                        <!-- 【即将获得】添加此 'pic-tip' 盒子及里面内容-->
                        <p class="pic-tip-cnt">
                            <span class="tip-line"><i class="line-dot"></i></span>
                            <span class="tip-txt">
                                                <% if (record.isWill) { %>
                                                即将获得
                                                <% } else if (record.isNext) { %>
                                                    <%=record.showMonth%>月将获得
                                                <% } else if (!record.buy_fee) { %>
                                                重新转入<b>获得<%=record.showMonth%>月成就卡</b>
                                                <% } %>
                                            </span>
                            <span class="tip-line"><i class="line-dot"></i></span>
                        </p>
                    </div>
                    <% } %>
                </li>
            <% } %>
        <% } %>
    </ul>
</script>

<script type="text/template" class="js-calendar-list-tpl">
    <!-- 列表 s -->
    <% for (var j = 0, len = years.length; j < len; j++) {
    var year = years[j];
    %>
    <div class="achieve-mine page-white spacing">
        <h3 class="pub-tt-achieve border-pack">
            <%= year%>
        </h3>
        <div class="achieve-cnt plr-main js-<%=year%>-achieve-list"></div>
    </div>
    <% } %>
</script>

<!-- 计划转入失败弹层 s -->
<div class="pop-set pop-account-fail js-calendar-fail-box hide"></div>

<script type="text/template" class="js-calendar-fail-box-tpl">
    <div class="pop-set-wrap">
        <div class="pop-set-title">
            <%=showMonth%>月计划转入失败
        </div>
        <div class="pop-set-cnt tc">
            <p class="f-darkgray">重新转入后即可领取<%=showMonth%>月攒钱月历</p>
            <p class="pic-cnt img-full">
                <img src="//qian-img.tenpay.com/mb/v4/img/fixed_invest_inspire/account_fail_pic.png"/>
            </p>
        </div>
        <div class="pop-operate"><a href="javascript:;" class="js-close-calendar-fail-box-btn">我知道了</a></div>
    </div>
</script>
<!-- 计划转入失败弹层 e -->

        <script type="text/template" class="js-user-portrait-tpl">
             <!-- <h3 class="pub-tt-achieve border-pack">
                 我的攒钱大数据
             </h3> -->
            <div class="data-mine-cnt flex-box">
                <div class="flex cnt-side tr">
                    <ul>
                        <li>
                            <p class="txt-emp f-normal">
                                <b class="txt-great"><%=current_month|0%></b>个月
                            </p>
                            <p class="txt-emp lh-normal">当前连续转入</p>
                            <% if (current_month) {%>
                            <p>超过了<span><%=current_month_sort|0%>%</span>的攒友</p>
                            <% } else { %>
                            <p>存钱从点滴开始</p>
                            <% }%>
                        </li>
                        <li class="side-btm">
                            <p class="txt-emp">
                                <i></i>
                                <b class="txt-med"><%=$.Amount.numToThousandth(parseInt(lastFee))%></b>元
                            </p>
                            <p class="txt-emp lh-normal">
                                <span><%=lastBuyMonth|0%>月</span>转入资金
                            </p>
                            <% if (parseInt(lastFee)) {%>
                            <p>超过了<span><%=last_fee_sort|0%>%</span>的攒友</p>
                            <% } else { %>
                            <p>再少每月也得记得攒点</p>
                            <% }%>
                        </li>
                    </ul>
                </div>
                <span class="data-portrait">
                    <img class="ico-data-center js-my-header-pic" src=""></img>
                </span>
                <div class="flex cnt-side">
                    <ul>
                        <li class="side-rt">
                            <p class="txt-emp f-normal">
                                <b class="txt-great"><%=total_month|0%></b>个月
                            </p>
                            <p class="txt-emp lh-normal">历史最长连续转入</p>
                            <% if (total_month) {%>
                            <p>超过了<span><%=total_month_sort|0%>%</span>的攒友</p>
                            <% } else { %>
                            <p>现在开启攒钱大计吧</p>
                            <% }%>
                        </li>
                        <li class="side-rt side-btm">
                            <p class="txt-emp">
                                <i></i>
                                <b class="txt-med"><%=$.Amount.numToThousandth(parseInt(totalFee))%></b>
                            </p>
                            <p class="txt-emp lh-normal">累计转入金额</p>
                            <p>超过了<span><%=total_fee_sort|0%>%</span>的攒友</p>
                        </li>
                    </ul>
                </div>
            </div>
            <p class="over-btn-tips">数据生成时间从首次使用工资理财至<%=currentYear%>年<%=lastBuyMonth%>月</p>
        </script>

        <script type="text/template" class="js-months-status-tpl">
            <p class="top-cnt-date">
                <% for (var i = 0, len= months.length; i < len; i++) {
                    var month = months[i];
                %>
                    <span><%=month.showMonth%>月</span>
                <% } %>
            </p>
            <p class="top-cnt-sign">
                <!-- 1.【点击span】'bubble-tip'中文案出现
                     2.【点击span.present-box】'present-box-tip'
                     3.【连续转入数月】对应 'span' 添加 class 'sign-shadow'
                        其中,最左span 添加 class 'shadow-lf'，最右添加class 'shadow-rt'-->
                <% for (var i = 0, len = months.length; i < len; i++) {
                    var month = months[i];
                %>
                    <span>
                        <% if (month.buyStatus === 0) { %>
                            <i class="ico-error-bw"></i>
                            <b class="bubble-tip">转入失败</b>
                        <% } else if (month.buyStatus === 1) { %>
                            <i class="sign-save">存</i>
                            <b class="bubble-tip">待转入</b>
                        <% } else if  (month.buyStatus === 2) { %>
                            <i class="ico-suc"></i>
                            <b class="bubble-tip">转入成功</b>
                        <% } %>
                    </span>
                <% } %>
            </p>
        </script>
    </div>

    <script>
(function(){
	//用于兼容构建的函数，当没有构建时也不致于未定义报错！
    window.__inline = window.__pkg = window.__uri = function(p){return p;} 
	window.__libJSUrl = "//qian-img.tenpay.com/mb/lib/lib.min.js?6127996c";
    if(location.hostname == 'apreqian.tenpay.com') {
        window.__libJSUrl = window.__libJSUrl.replace('qian-img.tenpay.com', location.hostname);
    }
	if(!window.loadJS) {
		document.write('\x3cscript type="text\x2fjavascript" src="'+window.__libJSUrl+'" crossorigin="anonymous" \x3e\x3c\x2fscript\x3e');	
	}
	else {
		window.loadJS(window.__libJSUrl, true, {
            crossorigin: 'anonymous'
        });
	}
	window.__modUrl = "mod/mod.min.js?ef845876";
	window.__serverUrl = "server/server.min.js?d6587c96";
	window.__msUrl = "mod/ms.cafe9acb.min.js?cafe9acb";
	window.__widget = function(w){
    	var widgets = {
    		'widget/decrypt': "widget/decrypt.d52a19f0.min.js?d52a19f0",
    		'widget/dream_circle': "widget/dream_circle.31d73e16.min.js?31d73e16",
    		'widget/dream_share': "widget/dream_share.7dc0c36e.min.js?7dc0c36e",
    		'widget/encrypt': "widget/encrypt.0ced244b.min.js?0ced244b",
    		'widget/jmSlip': "widget/jmSlip.5ca1cc4f.min.js?5ca1cc4f",
    		'widget/region': "widget/region.deb1656e.min.js?deb1656e",
    		'widget/rundiv': "widget/rundiv.6326612d.min.js?6326612d",
    		'widget/slider': "widget/slider.8cfea249.min.js?8cfea249",
    		'widget/sha1': "widget/sha1.bfe4cd58.min.js?bfe4cd58",
    		'widget/updown': "widget/updown.fcc53f67.min.js?fcc53f67",
    		'widget/recom': "widget/recom.8395857a.min.js?8395857a",
    		'widget/countup': "widget/countup.353f7d9b.min.js?353f7d9b",
            'widget/actUtil': "widget/actUtil.c64b91df.min.js?c64b91df",
            'widget/vue': "widget/vue.6d8ac6f5.min.js?6d8ac6f5",
            'widget/vue_plugs': "widget/vue_plugs.4add4afe.min.js?4add4afe",
    		'widget/actInit': "widget/actInit.799dbfaa.min.js?799dbfaa",
    		'widget/share_group': "widget/share_group.326762f2.min.js?326762f2",
    		'widget/wage_finan': "widget/wage_finan.67b51a64.min.js?67b51a64",
    		'widget/overplus_update': "widget/overplus_update.5c7c5cfc.min.js?5c7c5cfc",
    		'widget/weixin_pay': "widget/weixin_pay.8696abb2.min.js?8696abb2",
    		'widget/supplement': "widget/supplement.11c42dab.min.js?11c42dab",
    		'widget/service_agreement': "widget/service_agreement.874f6e69.min.js?874f6e69",
    		'widget/id_verification': "widget/id_verification.fd2b4104.min.js?fd2b4104",
    		'widget/bankselect': "widget/bankselect.db5d659c.min.js?db5d659c",
    		'widget/fundList': "widget/fundList.d348c842.min.js?d348c842",
    		'widget/upLoadImage': "widget/upLoadImage.3b475c17.min.js?3b475c17",
    		'widget/asset_chart': "widget/asset_chart.60a956e2.min.js?60a956e2",
    		'widget/playReward': "widget/playReward.259f3b98.min.js?259f3b98",
    		'widget/iSlider': "widget/iSlider.edf45765.min.js?edf45765",
    		'widget/helper': "widget/helper.6dcdb84b.min.js?6dcdb84b",
            'widget/charge_ok_overplus_recom': "widget/charge_ok_overplus_recom.c2716679.min.js?c2716679",
            'widget/big_pay_choose': "widget/big_pay_choose.38988768.min.js?38988768",
            'widget/chart': "widget/chart.81bd18eb.min.js?81bd18eb",
            'widget/mutil_card_pay': "widget/mutil_card_pay.96b7f6b2.min.js?96b7f6b2",
            'widget/share_external': "widget/share_external.21ef0767.min.js?21ef0767",
            'widget/riskTest': "widget/riskTest.53c4d2ff.min.js?53c4d2ff",
            'widget/specialFund': "widget/specialFund.a54f1f55.min.js?a54f1f55",
            'widget/datepicker': "widget/datepicker.cbd4e392.min.js?cbd4e392",
            'widget/charge_ok_common': "widget/charge_ok_common.df1f32d3.min.js?df1f32d3",
            'widget/fundModel': "widget/fundModel.b0abc39d.min.js?b0abc39d",
            'widget/etfDiscount': "widget/etfDiscount.5fedba81.min.js?5fedba81"
    	};
    	if(!w) {
    		//主要用于seajs 映射
    		var maps = [];
    		for(var m in widgets) {
    			var mp = widgets[m];
    			if(typeof mp != 'string') continue;
    			maps.push([m, '../../../mb/v4/js/' + mp]);
    		}
    		return maps;
    	}
    	return widgets[w]||w;
    }
    try{
        window.SERVER_TIME_STR='20170728190639';
    }catch(e){
        window.SERVER_TIME_STR = '';
    }
})();	
</script>

<script type="text/javascript">
!function(){function configSeajs(n){console.log("configSeajs seajs:"+typeof seajs);var e=[["mod/","../../../mb/v4/js/mod/"],["server/","../../../mb/v4/js/server/"],["widget/","../../../mb/v4/js/widget/"]];seajs.config({base:n,map:e}),console.log("seajs config completed")}function initPlatDom(){try{if(window.ISMQQ){var n=document.querySelectorAll(".js-mqq-hide");if(n&&n.length)for(var e=0;e<n.length;e++)n[e].style.display="none";var o=document.querySelectorAll(".js-mqq-show");if(o&&o.length)for(var e=0;e<o.length;e++)o[e].className=o[e].className.replace(/[\s|^]hide[\s|$]/," ")}else if(window.ISWEIXIN){var i=document.querySelectorAll(".js-weixin-hide");if(i&&i.length)for(var e=0;e<i.length;e++)i[e].style.display="none"}}catch(a){}}function __loadPage(n,e,o){function i(n){var e="//"+cdndomain+"/mb/v4/js/",o=e+window.__msUrl;window.loadJS(o,function(n){n?a():loadModuleInScriptTag(o,{crossOrigin:"anonymous"},function(n){n?a():seajs.use(window.__msUrl,a)})})}function a(){console.log("load modules complete -> start app"),checkBaseModule("mod/mod",window.__modUrl,function(){checkBaseModule("server/server",window.__serverUrl,function(){e&&e.length?(console.log("初始化依赖"),seajs.use(e,function(){for(var i=0,a=0;a<e.length;a++)checkBaseModule("",e[a],function(){i++,i>=e.length&&initAppAndPage(n,o)})}),console.log("初始化依赖 完成")):initAppAndPage(n,o)})})}if("function"==typeof e&&(o=e,e=null),"function"==typeof n&&(o=n,n=null),"string"==typeof n&&console.log("开始加载页面脚本： "+n),"string"==typeof e&&(e=[e]),"qian-img.tenpay.com"!=cdndomain&&(replaceLinkCDNURL(cdndomain),"apreqian.tenpay.com"===location.hostname&&(n&&"string"==typeof n&&(n=n.replace("qian-img.tenpay.com",cdndomain)),e&&e.length)))for(var s=0;s<e.length;s++)e[s]&&"string"==typeof e[s]&&(e[s]=e[s].replace("qian-img.tenpay.com",cdndomain));if(console.log("load modules:"),window.loadJS)window.ISMQQ&&!window.mqq?seajs.use("//open.mobile.qq.com/sdk/qqapi.js?_bid=152",i):i();else{var l=[];window.ISMQQ&&!window.mqq&&l.push("//open.mobile.qq.com/sdk/qqapi.js?_bid=152");var d="//"+cdndomain+"/mb/v4/js/",t=d+window.__msUrl;loadModuleInScriptTag(t,{crossOrigin:"anonymous"},function(n){n||l.push(window.__msUrl),l.length?seajs.use(l,a):a()})}}function getSeajsModule(n,e){if(seajs.cache)for(var o in seajs.cache){var i=seajs.cache[o];if(i&&i.id==n)return void(e&&e(i))}e&&e(null)}function getIDFromUrl(n){var e=n,o=e.indexOf("qian.tenpay.com");o>-1?e=e.substr(o+15):(o=e.indexOf("qian.qq.com"),o>-1?e=e.substr(o+11):(o=e.indexOf("qian-img.tenpay.com"),o>-1?e=e.substr(o+19):(o=e.indexOf("apreqian.tenpay.com"),o>-1&&(e=e.substr(o+19)))));var i=-1,a=new RegExp("\\.[^\\.\\/]{8,}\\.min\\.js","g");if(a.test(e)){a.lastIndex=0;var s=a.exec(e);s&&s.index>-1&&(i=s.index)}return-1==i&&(i=e.indexOf(".min.js")),-1==i&&(i=e.indexOf(".js")),-1==i&&(i=e.indexOf(".")),i>-1&&(e=e.substr(0,i)),e&&0===e.indexOf("/weixin/v4/js/")?e=e.substr(14):e&&0===e.indexOf("/mqq/v4/js/")&&(e=e.substr(11)),e}function checkBaseModule(n,e,o){n||(n=getIDFromUrl(e)),console.log("checkBaseModule "+n+" "+e),seajs.use(n,function(i){!i||i.QQVersion?(console.log("checkBaseModule "+n+" not exists"),loadJSInScript(e,function(i){i?(window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"js reload success",file:e},!0,"90019998"),seajs.use(n,function(n){o&&o(n)})):(window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"js reload failed",file:e},!0,"90019997"),o&&o())})):o&&o(i)})}function initAppAndPage(n,e){var o=$('[data-role="page"]');o=$(o.length?o[o.length-1]:"body"),loadModuleInScriptTag(n,{crossOrigin:"anonymous"},function(i){var a=["mod/app"];if(!i&&n)a.push(n);else if(n){var s=getIDFromUrl(n);s&&a.push(s)}seajs.use(a,function(i,a){console.log("app complete"),window.G_SPEED&&G_SPEED.push((new Date).getTime()),a&&a.QQVersion&&(a=null),i.init(function(){console.log("app init callback 2"),a?(console.log("page init start"),a.init?a.init(o):console.log("page init end, init function is undefined"),$.Spa&&$.Spa.pageInstance&&$.Spa.pageInstance(a),e&&e(a)):n?checkBaseModule("",n,function(i){i?(console.log("page init start 2"),i.init&&i.init(o)):(window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"pagejs load failed",file:n},!0,"9001999905"),console.warn&&console.warn("页面逻辑加载失败:"+n)),$.Spa&&$.Spa.pageInstance&&$.Spa.pageInstance(i),e&&e(i)}):($.Spa&&$.Spa.pageInstance&&$.Spa.pageInstance(a),e&&e(a))})})},o)}function loadJSInScript(n,e,o,i,a){o=o||1,a=a||cdndomain;var s="//"+a+"/"+(window.ISMQQ?"mqq":"weixin")+"/v4/js/";0!==n.indexOf("server/")&&0!==n.indexOf("mod/")&&0!==n.indexOf("widget/")||(s="//"+a+"/mb/v4/js/"),n=/^\s*http(s)?:\/\/|^\s*\//.test(n)?n:s+n,"/"==n[0]&&"/"!=n[1]&&(n="//"+a+n),n.indexOf("qian-img.tenpay.com")>-1&&(n=n.replace("qian-img.tenpay.com",MAINDOMAIN));var l=n;l+=n.indexOf("?")>-1?"&_rnd="+o:"?_rnd="+o;var d=!1;loadModuleInScriptTag(l,function(s,l){d||(s?(i!==!1&&-1===n.indexOf("{md5}")&&window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"js reload success",file:n,line:o},!0,"900199911"),setTimeout(function(){e&&e(n)},10)):(i!==!1&&-1===n.indexOf("{md5}")&&window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"js reload failed",file:n,line:o},!0,"900199921"),o++,o>2?e&&e():loadJSInScript(n,e,o,i,a)),d=!0)})}function loadModuleInScriptTag(n,e,o,i){if(!n||-1===n.indexOf(".js"))return void(o&&o(0,e));/^\s*\//.test(n)||/^\s*http(s)?:\/\//i.test(n)||(n=__jsbaseurl+"/"+n),"object"==typeof o&&(i=o,o=null),"function"==typeof e&&(o=e,e=null);var a=document.createElement("script");if(a.type="text/javascript",e)for(var s in e)a[s]=e[s];a.src=n,a.onload=function(i){o&&o(n,e)},a.onerror=function(a){n.indexOf(cdndomain)>-1&&cdndomain!=MAINDOMAIN&&-1===n.indexOf("{md5}")?(n=n.replace(cdndomain,MAINDOMAIN),loadModuleInScriptTag(n,e,o,i),window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"js load failed:"+a.type,file:n},!0,"900199932")):(-1===n.indexOf("{md5}")&&window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"js load failed:"+a.type,file:n},!0,"900199931"),o&&o(0,e))},a.onabort=function(n){o&&o(0,e)},i?i.append(a):document.body.appendChild(a)}function loadJSInLineScript(url,callback){return!url||url.indexOf("/mb/v4/js/page/trans/pending_record.")<0?void(callback&&callback()):(/^\s*\/[^\/]/.test(url)?url="//"+cdndomain+url:/^\s*\//.test(url)||/^\s*http(s)?:\/\//i.test(url)||(url=__jsbaseurl+"/"+url),void $.ajax({url:url,type:"get",ignore_error:!0,dataType:"text/html",success:function(data){if(data){var modreg=/^\s*define\s*\(function\s*\(/i;if(modreg.test(data)){var id=getIDFromUrl(url);data=data.replace(modreg,'define("'+id+'",function(')}eval(data),setTimeout(function(){callback&&callback(1)},1)}else callback&&callback()},error:function(n){callback&&callback()}}))}function replaceLinkCDNURL(n){var e=document.querySelectorAll("link");if(e&&e.length)for(var o=0;o<e.length;o++){var i=e[o].href;i.indexOf("qian-img.tenpay.com")>-1&&(console.log("replace link url "+i+" to "+n),e[o].href=i.replace("qian-img.tenpay.com",n))}var a=document.querySelectorAll("img");if(a&&a.length)for(var o=0;o<a.length;o++){var s=a[o].src;s.indexOf("qian-img.tenpay.com")>-1&&(console.log("replace img src "+i+" to "+n),a[o].src=s.replace("qian-img.tenpay.com",n))}}function loadCSSAndInLine(n,e){for(var o=n.href,i=document.querySelectorAll("link"),a=0;a<i.length;a++){var o=i[a].href;o.indexOf("qian-img.tenpay.com")>-1&&(o=o.replace("qian-img.tenpay.com","apreqian.tenpay.com"))}}console.log("init widget "),window.__getWidgetHtml=function(n,e){0===n.indexOf("/")&&-1===n.indexOf("<")?$.ajax({url:n,type:"get",dataType:"text/html",ignore_error:!0,hideLoading:!0,success:function(n){n&&n.replace(/\\'/g,"'"),e&&e(n)}}):e&&e(n)};var libjsLoadSuccess="undefined"!=typeof window.seajs&&"undefined"!=typeof $&&!!window.define;console.log("libjsLoadSuccess:"+libjsLoadSuccess);var MAINDOMAIN=location.hostname;window.UI_PATH_PREFIX=window.ISMQQ?"/mqq/v4/":"/weixin/v4/",console.log("UI_PATH_PREFIX:"+window.UI_PATH_PREFIX);var cdndomain=libjsLoadSuccess?"qian-img.tenpay.com":MAINDOMAIN;"apreqian.tenpay.com"==MAINDOMAIN&&(cdndomain=MAINDOMAIN),"qian-img.tenpay.com"!=cdndomain&&replaceLinkCDNURL(cdndomain);var __jsbaseurl="//"+cdndomain+"/"+(window.ISMQQ?"mqq":"weixin")+"/v4/js";(location.href.indexOf("cdn_domain=qian.tenpay.com")>-1||document.cookie.indexOf("cdn_domain=qian.tenpay.com")>-1)&&(__jsbaseurl=__jsbaseurl.replace("qian-img.tenpay.com",MAINDOMAIN),window.Cookie&&window.Cookie.setCookie("cdn_domain",MAINDOMAIN,10));var widgetCaches={};window.getWidgetAsync=function(n,e,o){if(widgetCaches[n])return void(o&&o(widgetCaches[n]));var i=window.__widget(n),a="//"+cdndomain+"/mb/v4/js/"+i;loadModuleInScriptTag(a,{crossOrigin:"anonymous"},function(a){a?(obj=e(n),widgetCaches[n]=obj,o&&o(obj)):e.async(i,function(i){i||(i=e(n)),widgetCaches[n]=i,o&&o(i)})})};var PAGELOADER=[];if(libjsLoadSuccess)configSeajs(__jsbaseurl);else{window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"lib.js load error, retry",file:window.__libJSUrl},!0,"90019995");var DEFINESCACHE=[];window.define=function(){DEFINESCACHE.push(arguments)},loadJSInScript(window.__libJSUrl,function(n){n&&"undefined"!=typeof seajs?(libjsLoadSuccess=!0,window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"lib.js reload success",file:n},!0,"90019996"),configSeajs(__jsbaseurl),DEFINESCACHE&&DEFINESCACHE.length&&(DEFINESCACHE.map(function(n){define.apply(window,n)}),DEFINESCACHE=[]),PAGELOADER&&PAGELOADER.length&&(PAGELOADER.map(function(n){__loadPage(n.url,n.deps,n.callback)}),PAGELOADER=[])):window.__SENDDEBUGLOG&&window.__SENDDEBUGLOG({msg:"lib.js load failed",file:n},!0,"90019997")})}window.loadPageScript=window.loadPage=function(n,e,o){initPlatDom(),console.log("loadPageScript start: lib.js is "+libjsLoadSuccess),libjsLoadSuccess?__loadPage(n,e,o):PAGELOADER.push({url:n,deps:e,callback:o})},window.loadJSInScript=loadJSInScript}();
</script>

    <script type="text/javascript" data-role="script">
        define("/mb/v4/js/page/life/salary/share",["mod/share"],function(e,t){function n(e){e.forEach(function(e){var t=e.buy_time&&$.Date.date2Str(new Date(1e3*e.buy_time),"%Y-%M-%d",!0)||"";e.showBuyFee=e.buy_fee&&$.Amount.fen2Yuan(e.buy_fee)||0,e.showDay=t.substr(8,2),e.showMonth=parseInt(t.substr(5,2)),e.monthText=l[e.month%100-1]}),e.sort(function(e,t){return t.month-e.month})}function a(e){var t=$(".js-month-achieve-box");t.removeClass("share-fly"),n(e);var a=$(".js-month-achieve-tpl").template({achieveList:e});t.html(a).removeClass("hide")}function o(){var e=$(".js-month-achieve-box");e.on($.Env.TAP,".js-close-month-achieve",h),e.on($.Env.TAP,".js-share-btn",r),e.on("click",".js-prev-month-prize",s),e.on("click",".js-next-month-prize",s),$.CusTomEvent.on("share",function(e){a(e.data)})}function s(e){var t=$(e.currentTarget),n=$(".js-share-month-achieve-list"),a=n.data("index");$(".js-month-achieve-box").removeClass("share-fly");var o=m.achieveList.length-1;t.hasClass("js-prev-month-prize")?a-=1:a+=1,n.css({transform:"translate3d(-"+100*a+"%,0,0)"}),a>=o?(a=o,t.addClass("hide")):$(".js-next-month-prize").removeClass("hide"),0>=a?(a=0,t.addClass("hide")):$(".js-prev-month-prize").removeClass("hide"),n.data("index",a)}function i(e){var t=m.nickname||"我",n=["{nickname}为自己的攒钱计划完成了{month}月打卡。月存越有钱，未来更美好！","{nickname}{month}月攒钱计划打卡成功，离自己的小目标又近了一步。"],a=n.length,o=+new Date%a,s=n[o].replace("{nickname}",t).replace("{month}",e.monthText),i=location.protocol+"//qian.tenpay.com/mb/v4/life/salary/fixed_invest_share.shtml",r=e.monthImgUrl||e.calendarIconUrl||"https://qian.tenpay.com/mb/v4/img/fixed_invest_inspire/salary_share.png";i+="?"+$.param({shareImg:e.monthImgUrl,nickname:t,monthText:encodeURIComponent(e.monthText)||""}),r=/^http(s)?:\/\//.test(r)?r:location.protocol+r,c.init({link:i,title:s,desc:s,img_url:r},function(e){$.Stat.clickStat("WX.SALARY.CALENDAR.share"+e)})}function r(e){var t=$(e.currentTarget),n=t.data("date");$.Stat.clickStat("WX.GZLC.JILI.SHARE");var a=m.recordsMap[n];a?($(".js-month-achieve-box").addClass("share-fly"),i(a)):$.Tips.showTips("分享失败,请稍后再试")}function h(){$(".js-month-achieve-box").addClass("hide")}var m,c=e("mod/share"),l=["一","二","三","四","五","六","七","八","九","十","十一","十二"];t.init=function(e){e&&(m=e.data||{},o(),e.autoShowCalendar&&a(m.achieveList))},t.renderMonthPrizes=a});

        define("/mb/v4/js/page/life/salary/calendar",["/mb/v4/js/page/life/salary/data","/mb/v4/js/page/life/salary/share","server/plan"],function(t,n){function a(){var t=$.Deferred(),n=$.sessionStorage.getItem("plan_invest_detail_plan_ids");return n&&n.length>0?g.queryPlanExeList({limit:20,offset:0,state:"0,1,2,4,8",plan_id:n[0]},function(n){0!=n.retcode?t.resolve(null):t.resolve(n)}):t.resolve(null),t}function e(){_.loadMonthInvestNotify(function(t){var n=t&&t.saraly_buy_record_list||[];if(n.length){var a=h(t),e=n.map(function(t){var n=a.recordsMap[t.month];return n?n:void 0});e.length&&($.Stat.clickStat("WX.GZLC.MONTH.POP"+e[0].month),a.achieveList=e,y.init({data:a,autoShowCalendar:!0}))}})}function r(t){var n=$.Deferred();return t=t||6,_.loadMonthInvestRecordList(function(a){if(!a.recordData||!a.recordData.recordList.length)return void n.reject("no data");var e=a.recordData.recordList.slice(0-t),r=$(".js-months-achieve-list");s(r,e),n.resolve()}),n}function o(){var t=$.Deferred();return _.loadMonthInvestRecordList(function(n){var a=l(n.recordData);i(a),t.resolve()}),t}function s(t,n){if(n){var a=$(".js-months-achieve-tpl").template({recordList:n});t.html(a)}}function i(t){var n=Object.keys(t);n.sort(function(t,n){return n-t});var a=$(".js-calendar-list-tpl").template({years:n}),e=b.find(".js-calendar-panel");e.html(a),setTimeout(function(){n.forEach(function(n){var a=$(".js-{year}-achieve-list".replace("{year}",n));s(a,t[n])})},0)}function l(t){var n={},a=t.recordsMap;return Object.keys(a).forEach(function(t){var e=a[t],r=parseInt(e.month/100);n[r]=n[r]||[],n[r].push(e)}),Object.keys(n).forEach(function(t){n[t].sort(function(t,n){return t.month-n.month})}),n}function c(t,n){var a,e;return n=n||window.SERVER_TIME||new Date,a=$.Date.date2Str(n,"%Y%M",!0),e=t[a]?$.Date.dateAdd("n",n,1):n,u(e)}function d(t){I.callbk&&I.callbk(t)}function h(t){function n(t){var n=t.month.toString(),a=r[n]||{};return t.showMonth=parseInt(n.substr(4,2)),t.monthImgUrl=a.calendarImgUrl||"",t.calendarIconUrl=a.calendarIconUrl||"",t}function a(t){var n=r[t.date]||{};if(n.calendarImgUrl){var a={showMonth:t.month,month:t.date,monthImgUrl:n.calendarImgUrl,calendarIconUrl:n.calendarIconUrl,isNext:!0,isWill:t.date==v.date};i.unshift(a),e(a)}}function e(t){l[t.month]=t}if(!t.saraly_buy_record_list)return{};var r=window.SALARY_CALENDARS;r=r&&r.salary_calendars||{};var o,s=window.ISMQQ?201707:201612,i=[],l={},h={},f={showMonth:s%100-1,month:s-1,noMore:!0};t.saraly_buy_record_list.forEach(function(t){h[t.month]=t});var v=c(h);d(h);for(var m=s%100,p=parseInt(s/100),b=s;b<v.date;)o=h[b]||{month:b},n(o),e(o),i.push(o),m+=1,p+=parseInt(m/13),m=Math.max(1,m%13),b=100*p+m;a(v);var I=3-i.length;if(I>0)for(var _,y=1;I>=y;y++)_=$.Date.strAdd("n",v.str+"01",y),a(u(_));return i.sort(function(t,n){return t.month-n.month}),e(f),{recordList:i,recordsMap:l}}function u(t){var n=$.Date.date2Str(t,"%Y%M",!0),a=parseInt(n.substr(0,4)),e=parseInt(n.substr(4,2));return{month:e,year:a,str:n,date:parseInt(n)}}function f(t){$(t).on($.Env.TAP,".js-month-achieve",p),$(".js-calendar-fail-box").on($.Env.TAP,".js-close-calendar-fail-box-btn",v)}function v(t){$(".js-calendar-fail-box").addClass("hide").empty()}function m(t){t=t.toString();var n=t.substr(0,4)+"年"+t.substr(4,6)+"月";$.Tips.showTips(n+"转入成功后,即可获得")}function p(t){var n=$(t.currentTarget),e=n.data("date");n.hasClass("next-month-achieve")?($.Stat.clickStat("WX.GZLC.JILI.NOTMONTH"),m(e)):($.Stat.clickStat("WX.GZLC.JILI.HAVEMONTH"),_.loadMonthInvestRecordList(function(t){var n=t.recordData.recordsMap[e];n&&n.buy_fee?$.CusTomEvent.fire("share",[n]):a().then(function(t){var n=!0;return t&&t.plan_exe_list&&t.plan_exe_list.length&&t.plan_exe_list.forEach(function(t){5!=t.state&&(n=!1,location.href="/mb/v4/charge/plan_invest_detail.shtml?plan_id="+t.plan_id)}),n}).then(function(t){if(t){var a=$(".js-calendar-fail-box-tpl").template(n);$(".js-calendar-fail-box").html(a).removeClass("hide")}})}))}var b,I,_=t("/mb/v4/js/page/life/salary/data"),y=t("/mb/v4/js/page/life/salary/share"),g=t("server/plan");$.CusTomEvent={handles:{},on:function(t,n,a){return this.handles[t]=this.handles[t]||[],this.handles[t].push({callback:n,times:a}),this},one:function(t,n){return this.on(t,n,1),this},fire:function(t,n){var a=this.handles[t];if(a&&a.length)for(var e=0,r=a.length;r>e;e++){var o=a[e];o.callback({type:t,data:n}),o.times--,0===o.times&&(a.splice(e,1),r--,e--)}},clear:function(){this.handles={}}},n.init=function(t){I=t=t||{},$.CusTomEvent.clear();var n=t.el||document.body;b=n,t.shareMode?e():_.loadMonthInvestRecordList(function(a){a.recordData=h(a),t.showAll?o():r(t.showMonthNum||3),f(n),y.init({data:$.extend({nickname:a.sNick||""},a.recordData)})})}});

        define("/mb/v4/js/page/life/salary/time-achieve",["server/action","/mb/v4/js/page/life/salary/data"],function(e,t){function a(e){var t=$(".js-time-achieve-tpl").template({recordList:e});$(".js-time-achieve-wrapper").html(t)}function s(e){$(e).on($.Env.TAP,".js-time-achieve-item",d),$(e).on($.Env.TAP,".js-draw-award-btn",n),$(e).on($.Env.TAP,".js-close-achieve-box-btn",c),$(e).on($.Env.TAP,".js-next-month-achieve-item",r)}function r(e){var t=$(e.currentTarget),a=t.data("months");$.Stat.clickStat("WX.GZLC.JILI.NOTTIME"),A.loadContinueInvestRecordList(function(e){var t=e.timeAchievesMap[a];v(t),i(t)})}function i(e){var t=$(".js-award-pop-box"),a=$(".js-time-achieve-award-tpl").template({data:e});e.prizeStateCls=e.prizeStateCls||"",t.removeClass(_(S).join(" ")),$(".js-pop-mask").removeClass("hide"),t.html(a).addClass(e.prizeStateCls).removeClass("hide")}function n(e){$.Stat.clickStat("WX.FIXINVEST.TIMEACHIEVE.CLICKDRAWAWARD");var t=$(e.currentTarget).data("months");!t||0>=t||o(t)}function o(e){h(e).then(function(e){v(e),w(e)})}function c(){$(".js-pop-mask").addClass("hide"),$(".js-award-pop-box").addClass("hide")}function d(e){var t=$(e.currentTarget),a=t.data("months");$.Stat.clickStat("WX.GZLC.JILI.HAVETIME"),m(a)}function u(e){function t(e){var t=f(e);t=[t,"will","award-get","js-next-month-achieve-item"].join(" ");var r={has_prize:!0,success_month_num:e,cls:t,isNext:!0,prizeState:4};a.unshift(r),s[e]=r}var a=[],s={};e.success_record_info_list&&e.success_record_info_list.forEach(function(e){s[e.success_month_num]=e,e.cls=f(e.success_month_num),a.push(e)});var r=e.next_success_month_num;if(l(e),e.has_next_success_record&&r&&(t(r),a.length<3))for(var i=1,n=3-a.length;n>=i;i++)t(1==r?3*i:r+3*i);return e.timeAchievesMap=s,a.sort(function(e,t){return e.success_month_num-t.success_month_num}),a}function l(e){b.callbk&&b.callbk(e)}function p(){A.loadContinueInvestRecordList(function(e){for(var t=e.success_record_info_list||[],a=0,s=t.length;s>a;a++){var r=t[a];if(1==r.has_prize&&0===r.iState){m(r.success_month_num);break}}})}function h(e){var t=$.Deferred();return A.loadContinueInvestRecordList(function(a){var s=a.timeAchievesMap[e];z.actFcgi({cmdname:"awardsaralysuccessprize",success_month_num:e},function(e){var a=parseInt(e.ret),r=!0;switch(a){case 0:break;case j.notRegisterBalancePlus:s.isBalancePlus=!1;break;case j.prizeAlreadyExpired:s.prizeState=C.outdateAward;break;case j.prizeAlreadyUsed:s.prizeState=C.hdAward;break;default:r=!1}r?(s.hb_info.fee=e.rsp.fee,$.extend(s,e.rsp),t.resolve(s)):($.Tips.showTips("系统有误,请稍后再试。"+e.ret+e.msg),c())})}),t}function m(e){A.loadContinueInvestRecordList(function(t){var a=t.timeAchievesMap[e];a?(v(a),w(a)):$.Tips.showTips("暂无奖品")})}function f(e){return"time-medal-"+e}function v(e){var t,a=e.iState,s=e.end_month&&e.end_month.toString()||"",r=s.substr(0,4),i=s.substr(4,6);if(e.showText1="",r&&i&&(e.showText1=["于",r,"年",i,"月"].join("")),e.showText1+="达成成就：<br/>连续成功转入"+e.success_month_num+"个月",0==e.has_prize)t=S.outdateAward,e.prizeState=C.noPrize,e.iconCls=f(e.success_month_num);else if(e.isBalancePlus===!1)e.prizeState=C.noBalancePlus;else if(!t&&e.prize_type==I.HB)switch(a){case 0:t=S.prizeInit,e.prizeState=C.prizeInit;break;case 1:t=S.prizeInit,e.prizeState=C.hdAward;break;case 2:t=S.hdAward,e.prizeState=C.hdAward;break;case 4:t=S.prizeInit,e.prizeState=C.hdAward;break;case 6:t=S.prizeInit,e.prizeState=C.hdAward;break;default:e.prizeState=C.outdateAward,t=S.outdateAward,e.iconCls=f(e.success_month_num)}t&&(e.prizeStateCls=t);var n=e.expire_time;n&&n>0&&(e.expireTime=$.Date.date2Str(new Date(1e3*n),"%Y-%M-%d %hh"),e.expiredDateText=e.expireTime.substr(5,2)+"月"+e.expireTime.substr(8,2)+"日"),e.hb_info&&e.hb_info.fee&&(e.hbFee=$.Amount.fen2Yuan(e.hb_info.fee))}function _(e){var t=Object.keys(e);return t.map(function(t){return e[t]})}function w(e){var t=$(".js-award-pop-box"),a=$(".js-time-achieve-award-tpl").template({data:e});e.prizeStateCls=e.prizeStateCls||"",t.removeClass(_(S).join(" ")),$(".js-pop-mask").removeClass("hide"),t.html(a).addClass(e.prizeStateCls).removeClass("hide")}var z=e("server/action"),A=e("/mb/v4/js/page/life/salary/data"),b=null,S={prizeInit:" ",hdAward:"hd-award",cdAward:"cd-award",outdateAward:"outdate-award"},C={prizeInit:0,hdAward:1,outdateAward:2,cdAward:3,noBalancePlus:5,noPrize:6},I={HB:0},j={notRegisterBalancePlus:71670052,prizeAlreadyUsed:71670017,prizeAlreadyExpired:71660021};t.init=function(e){b=e=e||{};var t=e.el||document.body;A.loadContinueInvestRecordList(function(r){r.recordsList=u(r),e.autoShowPrize&&p();var i=r.recordsList;if(!e.showAll){var n=0-(e.showNum||3);i=i.slice(n)}a(i),s(t)})}});

        define("/mb/v4/js/page/life/salary/data",["server/action","server/plan"],function(n,e){function t(n){var e,t=[],r=!1;return function(o){return e?o&&o(e):void(r?o&&t.push(o):(r=!0,o&&t.push(o),n(function(n){var o;for(e=n,r=!1;o=t.shift();)o(n)})))}}function r(n){var e=[n.retcode||n.ret,n.retmsg||n.msg].join("");$.Box.showBox(e,"",[["进入理财通首页",function(){location.replace("/mb/v4/index.shtml")}]])}var o=n("server/action"),i=n("server/plan"),c=t(function(n){o.actFcgi({cmdname:"getsaralybuyrecordlist",is_notify_req:!1},function(e){0==e.ret?n&&n(e.rsp):r(e)})}),s=t(function(n){o.actFcgi({cmdname:"getsaralybuyrecordlist",is_notify_req:!0},function(e){0==e.ret?n&&n(e.rsp):r(e)})}),a=t(function(n){o.actFcgi({cmdname:"getsaralysuccessrecordlist"},function(e){0==e.ret?n&&n(e.rsp):r(e)})}),f=t(function(n){i.queryUserPlanProfile({},function(e){0==e.retcode?n&&n(e):r(e)})});e.loadMonthInvestRecordList=c,e.loadContinueInvestRecordList=a,e.loadUserPlanProfile=f,e.loadMonthInvestNotify=s});

        var url = "//qian-img.tenpay.com/mb/v4/js/page/life/encourage_money_calendar.593f1173.min.js?593f1173";
        loadPageScript(url);
    </script>
</body>
</html>